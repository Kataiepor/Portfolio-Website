<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4F5PP2ZDNC"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-4F5PP2ZDNC');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STM32 Flight Controller</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Afacad+Flux:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
    <script src="https://kit.fontawesome.com/855b38aa8b.js" crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script type="module" src="https://kicanvas.org/kicanvas/kicanvas.js"></script>
    <script type="module" src="https://unpkg.com/@splinetool/viewer@1.9.82/build/spline-viewer.js"></script>
    
</head>

<style>
    /* Flight Controller CSS Settings */
        * {
    margin: 0;
    padding: 0;
    font-family: "Afacad Flux", serif;
    font-optical-sizing: auto;
    font-weight: 500;
    font-style: normal;
    box-sizing: border-box;
}


body {
    background: url(Images/Knight.gif) no-repeat center center fixed;
    background-size: cover; /* ADD THIS - makes image cover entire viewport */
    min-height: 100vh; /* ADD THIS - ensures body takes full height */
    overflow-x: hidden;
}


header {
    background: url(Images/Header.jpg) no-repeat center center fixed;
    background-size: cover; /* ADD THIS if needed for header too */
    position: relative;
    width: 100%;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}


header img {
    width: 100%;
    height: 100%;
    object-fit: cover;
}


        .return {
            font-size: 30px;
            float: right;
            padding: 40px 70px;
        }


        .return .fa-solid {
            color: #fff;
            transition: transform 0.5s;
            cursor: pointer;
        }


        .return .fa-solid:hover {
            color: #86cfe2;
            transform: scale(1.1);
        }


        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px 40px;
        }


        .header-section {
            text-align: center;
            margin: 60px 0;
        }


        .titlepcb {
            font-size: 3.5rem;
            font-weight: 700;
            color: #86cfe2;
            margin-bottom: 30px;
            text-shadow: 0 0 20px rgba(134, 207, 226, 0.3);
        }


        .pcb-container {
            display: flex;
            justify-content: center;
            margin: 40px 0;
            background: rgba(134, 207, 226, 0.05);
            border-radius: 20px;
            padding: 20px;
            border: 1px solid rgba(134, 207, 226, 0.2);
            box-shadow:
                0 0 30px rgba(134, 207, 226, 0.1),
                inset 0 0 30px rgba(134, 207, 226, 0.05);
        }


        /* .pcbmodel {
            width: 100%;
            height: 600px;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        } */


        /* .pcbmodel iframe {
            width: 100%;
            height: 100%;
            border: none;
            border-radius: 15px;
            background: #1a1a1a;
        } */


        /* .viewer-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-radius: 15px;
            border: 2px dashed rgba(134, 207, 226, 0.3);
        } */


        .viewer-content {
            text-align: center;
            padding: 40px;
        }


        .viewer-content h3 {
            color: #86cfe2;
            font-size: 2rem;
            margin-bottom: 15px;
        }


        .viewer-content p {
            color: #cccccc;
            font-size: 1.1rem;
            margin-bottom: 30px;
        }


        .view-3d-btn {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 15px 30px;
            background: linear-gradient(45deg, #86cfe2, #4a9fb8);
            color: #000;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(134, 207, 226, 0.3);
        }


        .view-3d-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(134, 207, 226, 0.5);
            background: linear-gradient(45deg, #4a9fb8, #86cfe2);
        }


        /* Static preview option styles */
        .static-preview {
            width: 100%;
            height: 100%;
            position: relative;
            cursor: pointer;
            border-radius: 15px;
            overflow: hidden;
        }


        .preview-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #86cfe2;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            opacity: 0;
        }


        .static-preview:hover .preview-overlay {
            opacity: 1;
        }


        .preview-overlay i {
            font-size: 3rem;
            margin-bottom: 15px;
        }


        /* Model Viewer Styles */
        model-viewer {
            --poster-color: #1a1a1a;
            --progress-bar-color: #86cfe2;
            --progress-ring-color: #86cfe2;
        }


        .model-loading, .model-error {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
            border-radius: 15px;
            text-align: center;
        }


        .loading-content, .model-error {
            padding: 40px;
        }


        .loading-content h3, .model-error h3 {
            color: #86cfe2;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }


        .loading-content p, .model-error p {
            color: #cccccc;
            font-size: 1rem;
            margin-bottom: 20px;
        }


        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid rgba(134, 207, 226, 0.3);
            border-top: 4px solid #86cfe2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }


        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }


        .fallback-btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            background: #86cfe2;
            color: #000;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }


        .fallback-btn:hover {
            background: #4a9fb8;
            transform: translateY(-2px);
        }


        .descpcb {
            background: rgba(255, 255, 255, 0.02);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            border: 1px solid rgba(134, 207, 226, 0.15);
            backdrop-filter: blur(10px);
        }


        .descpcb b {
            color: #86cfe2;
            font-size: 1.2rem;
            display: block;
            margin-bottom: 20px;
        }


        .innertext {
            color: #cccccc;
            line-height: 1.8;
            font-size: 1.1rem;
            margin-top: 15px;
        }


        .btn-container-2 {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
            flex-wrap: wrap;
        }


        .btn-1 {
            padding: 15px 40px;
            border: 2px solid #86cfe2;
            background: transparent;
            color: #86cfe2;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            font-family: inherit;
        }


        .btn-1:hover {
            background: #86cfe2;
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(134, 207, 226, 0.3);
        }


        .btn-1 i {
            font-size: 1.2rem;
        }


        .features-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 40px;
    margin: 60px 0;
    padding: 0 20px;
    align-items: start; /* THIS IS THE KEY LINE */
}


        @media (max-width: 968px) {
            .features-grid {
                grid-template-columns: 1fr; /* Single column on mobile */
            }
        }


        .feature-card {
    background: rgba(255, 255, 255, 0.03);
    border-radius: 15px;
    padding: 30px;
    border: 1px solid rgba(134, 207, 226, 0.2);
    transition: all 0.3s ease;
    backdrop-filter: blur(10px);
    align-self: start; /* Add this line */
}


        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(134, 207, 226, 0.2);
            border-color: #86cfe2;
        }


        .feature-card h3 {
            color: #86cfe2;
            font-size: 1.4rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }


        .feature-card p {
            color: #cccccc;
            line-height: 1.6;
        }


        .specs-section {
            background: rgba(134, 207, 226, 0.05);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
            border: 1px solid rgba(134, 207, 226, 0.2);
        }


        .specs-section h2 {
            color: #86cfe2;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 40px;
        }


        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }


        .spec-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            color: #fff;
            border-radius: 10px;
            border: 1px solid rgba(134, 207, 226, 0.1);
            transition: all 0.3s ease; /* Add smooth transition */
        }


        .spec-item:hover {
            transform: translateY(-5px); /* Lift up on hover */
            box-shadow: 0 15px 35px rgba(134, 207, 226, 0.2); /* Add glow shadow */
            border-color: #86cfe2; /* Brighten border */
            background: rgba(255, 255, 255, 0.08); /* Slightly brighter background */
        }


        .spec-item strong {
            color: #86cfe2;
            display: block;
            margin-bottom: 5px;
        }


        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }


            .titlepcb {
                font-size: 2.5rem;
            }


            .pcbmodel {
                height: 400px;
            }


            .descpcb {
                padding: 25px;
            }


            .return {
                position: absolute;
                top: 20px;
                right: 20px;
                padding: 20px;
            }


            .btn-container-2 {
                flex-direction: column;
                align-items: center;
            }


            .btn-1 {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }


        /* Animated background effect */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background:
                radial-gradient(circle at 20% 80%, rgba(134, 207, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(134, 207, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(134, 207, 226, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
        }


        /* Glowing effect for the PCB container */
        .pcb-container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #86cfe2, #4a9fb8, #86cfe2, #4a9fb8);
            border-radius: 22px;
            z-index: -1;
            animation: glow 2s linear infinite;
            opacity: 0.5;
        }


        @keyframes glow {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 0.8; }
        }


        /* Hero Section Styles */
        #hero-section {
            margin: 60px 0;
        }


        .hero-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
            align-items: start;
        }


        /* Left Side - Image Slider */
        .hero-left {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }


        .image-slider {
            position: relative;
            width: 565px;
            height: 690px;
            background: #1a1a1a;
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(134, 207, 226, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
       
        .slider-content {
            width: 100%;
            height: 100%;
            position: relative;
        }


        .slider-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }


        .slider-image.active {
            opacity: 1;
            z-index: 1;
        }


        .slider-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid rgba(134, 207, 226, 0.5);
            color: #86cfe2;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
        }


        .slider-btn:hover {
            background: rgba(134, 207, 226, 0.9);
            color: #000;
            transform: translateY(-50%) scale(1.1);
        }


        .prev-btn {
            left: 20px;
        }


        .next-btn {
            right: 20px;
        }


        .slider-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
            z-index: 10;
        }


        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            border: 2px solid rgba(134, 207, 226, 0.6);
            cursor: pointer;
            transition: all 0.3s ease;
        }


        .indicator:hover {
            background: rgba(134, 207, 226, 0.7);
            transform: scale(1.2);
        }


        .indicator.active {
            background: #86cfe2;
            transform: scale(1.3);
        }


        /* Action Buttons */
        .hero-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }


        .action-btn {
            flex: 1;
            min-width: 180px;
            padding: 15px 25px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            font-family: inherit;
        }


        .primary-btn {
            background: #fff;
            color: #000;
            border: 2px solid #fff;
        }


        .primary-btn:hover {
            background: transparent;
            color: #fff;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.3);
        }


        .secondary-btn {
            background: transparent;
            color: #fff;
            border: 2px solid #fff;
        }


        .secondary-btn:hover {
            background: #fff;
            color: #000;
            transform: translateY(-3px);
            box-shadow: 0 5px 20px rgba(255, 255, 255, 0.3);
        }


        /* Right Side - Info Boxes */
        .hero-right {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }


        .info-box {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(134, 207, 226, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }


        .header-box {
            background: linear-gradient(135deg, rgba(134, 207, 226, 0.2), rgba(134, 207, 226, 0.05));
            border-color: rgba(134, 207, 226, 0.2);
        }


        .header-box h2 {
            color: #ffffff;
            font-size: 2.15rem;
            font-weight: 700;
            margin: 0;
            text-align: center;
        }


        .description-box {
            flex-grow: 1;
        }


        .description-box h3 {
            color: #86cfe2;
            font-size: 1.5rem;
            margin-bottom: 20px;
            font-weight: 600;
        }


        .description-content {
            color: #cccccc;
            line-height: 1.8;
            font-size: 1rem;
        }


        .description-content strong {
            color: #86cfe2;
            font-size: 1.1rem;
        }


        .description-content p {
            margin: 0;
        }


        /* Mobile Responsive for Hero Section */
@media (max-width: 968px) {
    .hero-container {
        grid-template-columns: 1fr;
        gap: 30px;
    }


    .hero-right {
        order: -1;
    }


    .hero-left {
        width: 100%;
        max-width: 100%;
    }


    .image-slider {
        width: 100%;
        max-width: 100%;
        height: auto;
        aspect-ratio: 1/1;
        max-height: 500px;
    }


    .slider-image {
        object-fit: contain;
    }


    .info-box {
        padding: 20px;
        width: 100%;
    }


    .header-box h2 {
        font-size: 1.5rem;
    }


    .description-box {
        max-height: none;
        overflow: visible;
    }


    .description-box h3 {
        font-size: 1.3rem;
    }


    .description-content {
        font-size: 0.9rem;
        line-height: 1.6;
    }
}


@media (max-width: 768px) {
    .image-slider {
        max-height: 400px;
    }


    .slider-btn {
        width: 40px;
        height: 40px;
        font-size: 1rem;
    }


    .prev-btn {
        left: 10px;
    }


    .next-btn {
        right: 10px;
    }


    .hero-actions {
        flex-direction: column;
        margin-bottom: 30px;
    }


    .action-btn {
        width: 100%;
    }
}


@media (max-width: 600px) {
    .titlepcb {
        font-size: 1.8rem;
        line-height: 1.2;
        margin-bottom: 20px;
    }


    .image-slider {
        height: auto;
        max-height: 350px;
        margin-bottom: 20px;
    }


    .header-box {
        padding: 15px;
    }


    .header-box h2 {
        font-size: 1.3rem;
    }


    .action-btn {
        padding: 14px 20px;
        font-size: 0.95rem;
    }


    .hero-actions {
        gap: 12px;
    }


    .info-box {
        margin: 0 0 20px 0;
        width: 100%;
        overflow: hidden;
    }


    .description-content p {
        word-wrap: break-word;
        overflow-wrap: break-word;
    }


    .container {
        padding: 20px 15px;
    }
}


@media (max-width: 480px) {
    .image-slider {
        aspect-ratio: 1/1;
    }


    .slider-btn {
        width: 35px;
        height: 35px;
        font-size: 0.9rem;
    }


    .slider-indicators {
        bottom: 10px;
    }


    .indicator {
        width: 10px;
        height: 10px;
    }


    .action-btn {
        padding: 12px 20px;
        font-size: 0.9rem;
    }


    .info-box {
        padding: 15px;
    }


    .description-box h3 {
        font-size: 1.1rem;
    }
}


/* KiCanvas Section Styles */
#kicanvas-section {
    margin: 80px 0;
}


.kicanvas-header {
    text-align: center;
    margin-bottom: 40px;
}


.section-title {
    font-size: 2.5rem;
    color: #86cfe2;
    margin-bottom: 15px;
    font-weight: 700;
}


.section-subtitle {
    font-size: 1.2rem;
    color: #cccccc;
    font-weight: 400;
}






@keyframes slideIn {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@media (max-width: 768px) {
    .return {
        display: none !important;
    }


    .return_2 {
        display: none !important;
    }
}





/* ------------------------------ */

</style>
<body>
    <div id="title">
        <div class="return_2">
            <a href='/'><i class="fa-solid fa-house"></i></a>
        </div>
    </div>

    <div class="container">
        <div class="header-section">
            <h1 class="titlepcb">STM32 FLIGHT CONTROLLER</h1>
        </div>

        <!-- Hero Section with Image Slider -->
        <section id="hero-section">
            <div class="hero-container">
                <!-- Left Side: Image Slider -->
                <div class="hero-left">
                    <div class="image-slider">
                        <button class="slider-btn prev-btn" onclick="changeSlide(-1)">
                            <i class="fa-solid fa-chevron-left"></i>
                        </button>
                        
                        <div class="slider-content">
                            <img src="Images/STM32FC Front.png" alt="Flight Controller PCB - Front View" class="slider-image active">
                            <img src="Images/STM32FC Back.png" alt="Flight Controller PCB -  Back View" class="slider-image">
                            <video src="Videos/FC 360 PCB.mp4" autoplay muted loop playsinline alt="Flight Controller PCB - 360 View" class="slider-image">
                        </div>
                        
                        <button class="slider-btn next-btn" onclick="changeSlide(1)">
                            <i class="fa-solid fa-chevron-right"></i>
                        </button>
                        
                        <!-- Slider Indicators -->
                        <div class="slider-indicators">
                            <span class="indicator active" onclick="goToSlide(0)"></span>
                            <span class="indicator" onclick="goToSlide(1)"></span>
                            <span class="indicator" onclick="goToSlide(2)"></span>
                        </div>
                    </div>
                    
                    <!-- Action Buttons Below Image -->
                    <div class="hero-actions">
                        <button class="action-btn primary-btn" onclick="scrollToSection('kicanvas-section')">
                            <i class="fa-solid fa-diagram-project"></i>
                            View Schematic
                        </button>
                        <button class="action-btn secondary-btn" onclick="window.open('https://raw.githubusercontent.com/Kataiepor/Flight-Controller-PCB/main/Technical-Report/FlightController-Report.pdf')">
                            <i class="fa-solid fa-file-pdf"></i>
                            Technical Report
                        </button>
                    </div>
                </div>
                
                <!-- Right Side: Info Boxes -->
                <div class="hero-right">
                    <div class="info-box header-box">
                        <h2>About The Project</h2>
                    </div>
                    
                    <div class="info-box description-box">
                        <div class="description-content">
                            <p>I wanted to build a custom flight controller from the ground up to deepen my understanding of PCB design, embedded systems, and sensor integration for UAV 
                                applications. My goal was to create a professional grade board that goes beyond tutorials, demonstrating real engineering practices and industry relevant design skills.</p>
                            <br>
                            <p>The board is based on the STM32F446RE microcontroller (ARM Cortex-M4), chosen for its high performance in real-time applications. It integrates the ICM 42670P IMU for motion sensing and the 
                                BMP390 barometric sensor for altitude measurement. To support UAV control, the design includes ESC connectors, UART, SPI, CAN bus interfaces, and SWD debugging. The result is a complete 
                                embedded platform capable of powering and controlling drones or other robotics projects.</p>
                            <br>
                            <p>Designed and routed the multi-layer PCB in KiCad with emphasis on signal integrity, power distribution, and decoupling. Optimized oscillator and sensor routing for stability. Validated hardware
                                 in STM32CubeIDE through firmware configuration and peripheral testing</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Original 3D Model Section (Optional - can be removed) -->
        <div class="pcb-container" style="display: none;">
            <div class="pcbmodel">
                <!-- Modern 3D Model Viewer for STEP files -->
                <model-viewer 
                    id="pcb-model"
                    src="https://raw.githubusercontent.com/Kataiepor/Flight-Controller-PCB/main/3D/FlightController.step"
                    alt="STM32 Flight Controller PCB 3D Model"
                    auto-rotate
                    camera-controls
                    touch-action="pan-y"
                    style="width: 100%; height: 100%; background-color: #1a1a1a; border-radius: 15px;"
                    loading="eager"
                    reveal="auto"
                    environment-image="neutral"
                    shadow-intensity="1"
                    exposure="1">
                    
                    <!-- Loading indicator -->
                    <div slot="poster" class="model-loading">
                        <div class="loading-content">
                            <div class="spinner"></div>
                            <h3>Loading 3D Model...</h3>
                            <p>Loading your Flight Controller PCB</p>
                        </div>
                    </div>
                    
                    <!-- Error fallback -->
                    <div slot="error" class="model-error">
                        <i class="fa-solid fa-exclamation-triangle" style="font-size: 3rem; color: #ff6b6b; margin-bottom: 15px;"></i>
                        <h3>Model Viewer Issue</h3>
                        <p>The STEP file might need conversion to GLB/GLTF format</p>
                        <div style="margin-top: 20px;">
                            <a href="https://raw.githubusercontent.com/Kataiepor/Flight-Controller-PCB/main/3D/FlightController.step" 
                               target="_blank" 
                               class="fallback-btn" 
                               style="margin-right: 10px;">
                                <i class="fa-solid fa-download"></i>
                                Download STEP
                            </a>
                            <a href="https://3dviewer.net" target="_blank" class="fallback-btn">
                                <i class="fa-solid fa-cube"></i>
                                External Viewer
                            </a>
                        </div>
                    </div>
                </model-viewer>
                
                <!-- Backup: If model-viewer fails, show alternative options -->
                <div id="backup-viewer" style="display: none;" class="viewer-placeholder">
                    <div class="viewer-content">
                        <i class="fa-solid fa-cube" style="font-size: 4rem; color: #86cfe2; margin-bottom: 20px;"></i>
                        <h3>3D PCB Model</h3>
                        <p>Multiple viewing options for your Flight Controller</p>
                        <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin-top: 20px;">
                            <a href="https://3dviewer.net" target="_blank" class="view-3d-btn">
                                <i class="fa-solid fa-external-link-alt"></i>
                                Online 3D Viewer
                            </a>
                            <a href="https://raw.githubusercontent.com/Kataiepor/Flight-Controller-PCB/main/3D/FlightController.step" 
                               class="view-3d-btn" 
                               download>
                                <i class="fa-solid fa-download"></i>
                                Download STEP
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <h3><i class="fa-solid fa-microchip"></i>STM32 MCU</h3>
                <p>High-performance 32-bit ARM Cortex-M processor with dedicated floating point unit for real time flight calculations and sensor fusion.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fa-solid fa-compass"></i>IMU Integration</h3>
                <p>6-axis inertial measurement unit with accelerometer and gyroscope for precise attitude determination and flight stabilization.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fa-solid fa-bolt"></i>Power Management</h3>
                <p>Multi-rail power distribution with voltage regulation, battery monitoring, and power-on sequencing for reliable operation.</p>
            </div>
            <div class="feature-card">
                <h3><i class="fa-solid fa-wifi"></i>Communication</h3>
                <p>Multiple communication interfaces including USB, UART, SPI, and I2C for telemetry, configuration, and peripheral expansion.</p>
            </div>
        </div>

        <div class="specs-section">
            <h2>Technical Specifications</h2>
            <div class="specs-grid">
                <div class="spec-item">
                    <strong>Microcontroller:</strong>
                    STM32F4 Series 32-bit ARM Cortex-M4
                </div>
                <div class="spec-item">
                    <strong>IMU:</strong>
                    6 Axis Accelerometer + Gyroscope
                </div>
                <div class="spec-item">
                    <strong>Power Supply:</strong>
                    5V-24V input with multiple regulated outputs
                </div>
                <div class="spec-item">
                    <strong>Interfaces:</strong>
                    USB, UART, SPI, I2C, PWM outputs
                </div>
                <div class="spec-item">
                    <strong>PCB:</strong>
                    4-layer design, 50mm x 50mm form factor
                </div>
                <div class="spec-item">
                    <strong>Operating Temp:</strong>
                    -40°C to +85°C industrial grade
                </div>
            </div>
        </div>

        <div class="btn-container-2">
            <a class="btn-1" href="https://github.com/Kataiepor/Flight-Controller-PCB" target="_blank">
                <i class="fa-brands fa-github"></i>View on GitHub
            </a>
        </div>

        

    <script>
        // Image Slider Functionality
        let currentSlide = 0;
        const slides = document.querySelectorAll('.slider-image');
        const indicators = document.querySelectorAll('.indicator');

        function showSlide(index) {
            // Remove active class from all slides and indicators
            slides.forEach(slide => slide.classList.remove('active'));
            indicators.forEach(indicator => indicator.classList.remove('active'));

            // Add active class to current slide and indicator
            slides[index].classList.add('active');
            indicators[index].classList.add('active');
        }

        function changeSlide(direction) {
            currentSlide += direction;
            
            // Loop around
            if (currentSlide >= slides.length) {
                currentSlide = 0;
            } else if (currentSlide < 0) {
                currentSlide = slides.length - 1;
            }
            
            showSlide(currentSlide);
        }

        function goToSlide(index) {
            currentSlide = index;
            showSlide(currentSlide);
        }

        // Auto-advance slider every 5 seconds
        let autoSlideInterval = setInterval(() => {
            changeSlide(1);
        }, 5000);

        // Pause auto-advance on hover
        const imageSlider = document.querySelector('.image-slider');
        if (imageSlider) {
            imageSlider.addEventListener('mouseenter', () => {
                clearInterval(autoSlideInterval);
            });

            imageSlider.addEventListener('mouseleave', () => {
                autoSlideInterval = setInterval(() => {
                    changeSlide(1);
                }, 5000);
            });
        }

        // Smooth scroll to section
        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        // Modal Functionality for KiCanvas
        document.addEventListener('DOMContentLoaded', function() {
            // Get modal elements
            const schematicModal = document.getElementById('schematicModal');
            const pcbModal = document.getElementById('pcbModal');
            const viewSchematicBtn = document.getElementById('viewSchematicBtn');
            const viewPCBBtn = document.getElementById('viewPCBBtn');
            const closeButtons = document.querySelectorAll('.closeModalBtn');

            // Open Schematic Modal
            if (viewSchematicBtn) {
  viewSchematicBtn.addEventListener('click', function() {
    schematicModal.classList.add('show');
    document.body.style.overflow = 'hidden';
  });
}

            // Open PCB Modal
            if (viewPCBBtn) {
                viewPCBBtn.addEventListener('click', function() {
                    pcbModal.classList.add('show');
                    document.body.style.overflow = 'hidden';
                });
            }

            // Close modals when clicking X button
            closeButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const modal = this.closest('.modal');
                    modal.classList.remove('show');
                    document.body.style.overflow = 'auto'; // Re-enable scrolling
                });
            });

            // Close modal when clicking outside of modal content
            window.addEventListener('click', function(event) {
                if (event.target.classList.contains('modal')) {
                    event.target.classList.remove('show');
                    document.body.style.overflow = 'auto';
                }
            });

            // Close modal with Escape key
            document.addEventListener('keydown', function(event) {
                if (event.key === 'Escape') {
                    const openModal = document.querySelector('.modal.show');
                    if (openModal) {
                        openModal.classList.remove('show');
                        document.body.style.overflow = 'auto';
                    }
                }
            });

            // Enhanced 3D model handling
            const modelViewer = document.getElementById('pcb-model');
            
            if (modelViewer) {
                modelViewer.addEventListener('load', function() {
                    console.log('3D model loaded successfully!');
                });
                
                modelViewer.addEventListener('error', function(event) {
                    console.log('Model viewer error:', event);
                    setTimeout(() => {
                        console.log('Model viewer encountered an error - fallback options available in error slot');
                    }, 3000);
                });
                
                setTimeout(() => {
                    if (!modelViewer.loaded && modelViewer.modelIsVisible === false) {
                        console.log('Model taking longer than expected to load...');
                    }
                }, 10000);
            }
        });

        // Add smooth scrolling and interactive effects
        document.querySelectorAll('.btn-1').forEach(button => {
            button.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px) scale(1.05)';
            });
            
            button.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });

        // Add parallax effect to feature cards
            

        // Handle fallback viewers for STEP file
        function openExternalViewer() {
            window.open('https://3dviewer.net', '_blank');
        }
        
        function downloadStepFile() {
            const link = document.createElement('a');
            link.href = 'https://raw.githubusercontent.com/Kataiepor/Flight-Controller-PCB/main/3D/FlightController.step';
            link.download = 'FlightController.step';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }
    </script>
</body>
</html>
